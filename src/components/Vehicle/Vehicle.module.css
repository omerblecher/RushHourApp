.vehicle {
  position: absolute;
  border-radius: 10px;
  border: 2px solid transparent;
  cursor: grab;
  user-select: none;
  touch-action: none;
  pointer-events: auto;
  /* No transition in default state - snap is added dynamically by drag system */
}

.vehicle:active {
  cursor: grabbing;
}

/* Hover highlight — shows vehicle is interactive; suppressed during drag */
.vehicle:not(.dragging):hover {
  filter: brightness(1.08);
  transform: scale(1.02);
  transition: filter 0.15s, transform 0.15s;
}

/* Dragging state — lifted shadow, scale, grabbed cursor */
.dragging {
  transform: scale(1.05);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35) !important;
  z-index: 100;
  cursor: grabbing;
  /* will-change: transform is applied inline by useDrag for performance */
}

/* === Pseudo-element details for HORIZONTAL cars (size 2) === */
.car.horizontal::before {
  content: '';
  position: absolute;
  top: 20%;
  left: 15%;
  width: 28%;
  height: 55%;
  background: rgba(255, 255, 255, 0.35);
  border-radius: 4px;
  backdrop-filter: blur(1px);
}

.car.horizontal::after {
  content: '';
  position: absolute;
  top: 20%;
  right: 15%;
  width: 28%;
  height: 55%;
  background: rgba(255, 255, 255, 0.35);
  border-radius: 4px;
}

/* === Pseudo-element details for VERTICAL cars (size 2) === */
.car.vertical::before {
  content: '';
  position: absolute;
  left: 20%;
  top: 12%;
  width: 60%;
  height: 25%;
  background: rgba(255, 255, 255, 0.35);
  border-radius: 4px;
}

.car.vertical::after {
  content: '';
  position: absolute;
  left: 20%;
  bottom: 12%;
  width: 60%;
  height: 25%;
  background: rgba(255, 255, 255, 0.35);
  border-radius: 4px;
}

/* === Truck details (size 3) — cargo panel lines === */
.truck.horizontal::before {
  content: '';
  position: absolute;
  top: 25%;
  left: 10%;
  right: 10%;
  height: 50%;
  background: repeating-linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.15) 0px,
    rgba(255, 255, 255, 0.15) 1px,
    transparent 1px,
    transparent 14%
  );
  border-radius: 3px;
  border-top: 1px solid rgba(255, 255, 255, 0.3);
  border-bottom: 1px solid rgba(255, 255, 255, 0.3);
}

.truck.horizontal::after {
  content: '';
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  left: 12%;
  width: 16%;
  height: 50%;
  background: rgba(0, 0, 0, 0.15);
  border-radius: 3px;
}

.truck.vertical::before {
  content: '';
  position: absolute;
  left: 25%;
  top: 10%;
  bottom: 10%;
  width: 50%;
  background: repeating-linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.15) 0px,
    rgba(255, 255, 255, 0.15) 1px,
    transparent 1px,
    transparent 14%
  );
  border-radius: 3px;
  border-left: 1px solid rgba(255, 255, 255, 0.3);
  border-right: 1px solid rgba(255, 255, 255, 0.3);
}

.truck.vertical::after {
  content: '';
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: 12%;
  height: 16%;
  width: 50%;
  background: rgba(0, 0, 0, 0.15);
  border-radius: 3px;
}

/* === Target car (X) special flair — pulsing glow + shine === */
.targetCar {
  animation: targetGlow 2s ease-in-out infinite;
}

.targetCar::before {
  content: '';
  position: absolute;
  top: 10%;
  left: 10%;
  right: 10%;
  height: 35%;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.6) 0%,
    rgba(255, 255, 255, 0) 60%
  );
  border-radius: 6px 6px 0 0;
  pointer-events: none;
}

.targetCar::after {
  content: '';
  position: absolute;
  bottom: 15%;
  right: 12%;
  width: 25%;
  height: 35%;
  background: rgba(255, 200, 180, 0.4);
  border-radius: 3px;
  box-shadow: inset 0 0 4px rgba(255, 100, 80, 0.6);
}

@keyframes targetGlow {
  0%, 100% {
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.35),
      0 0 0 2px #b71c1c, 0 0 12px rgba(229, 57, 53, 0.6);
  }
  50% {
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.35),
      0 0 0 2px #b71c1c, 0 0 22px rgba(229, 57, 53, 0.85);
  }
}
